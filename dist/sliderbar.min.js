/** @license: MIT 
 Slider Bar Demo v1.0.0 | Copyright (c) 2022 | Ben Silverman | https://github.com/bensilverman/silderbar 
**/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).sliderbar={})}(this,function(t){"use strict";class e{constructor(t){this.ticks=[];var{range:t,domElements:{container:e,track:s,thumb:i},value:a,snap:n}=t;Object.assign(this,{container:e,track:s,thumb:i,range:t,value:a??t.min,snap:n??!0}),new Promise(t=>{this.createTicks().adjustContainer(),t(this)}).then(()=>{this.thumbEvents().snapThumb(this.value)})}createTicks(){const{ticks:n,track:l,range:{min:e,max:s,step:i}}=this;var a=l.offsetWidth/((s-e)/i);let h=0;for(let t=e;t<=s;t+=i)n.push({left:a*h,value:t}),h++;return n.forEach((e,t)=>{const s=document.createElement("div");s.classList.add("tick"),l.appendChild(s);var i=e.left-s.offsetWidth/2;s.style.marginLeft=i+"px",s.addEventListener("mousedown",()=>{this.setValue(e.value)});const a=document.createElement("div");a.classList.add("label"),a.setAttribute("tabIndex","2"),a.innerHTML=""+e.value,l.appendChild(a),a.style.marginLeft=i-a.offsetWidth/2+"px",["keypress","click"].forEach(t=>{a.addEventListener(t,()=>{this.setValue(e.value)})}),n[t].label=a}),this}adjustContainer(){const{container:t,track:e,thumb:s,snap:i}=this;var a=s.offsetWidth;t.style.width=e.offsetWidth+a+"px",e.style.marginLeft=a/2+"px",t.setAttribute("tabIndex","1"),i||s.classList.add("smooth")}thumbEvents(){const{container:s,track:i,thumb:a,snap:n}=this;let e=!1,l=(s.addEventListener("focus",()=>e=!0,!0),s.addEventListener("blur",()=>e=!1,!0),window.addEventListener("keydown",t=>{if(e)switch(t.keyCode){case 37:this.setValue(--this.value);break;case 39:this.setValue(this.value+=1)}}),!1),h=null;var t=t=>{l=[a,s,i].includes(t.target)||t.target.classList.contains("tick"),t.target==s&&this.setValue(this.translateXToVal(t.offsetX-a.offsetWidth)),t.target==i&&this.setValue(this.translateXToVal(t.offsetX))},o=t=>{l&&null!==h&&(this.setValue(h),h=null),n||a.classList.add("smooth"),l=!1},r=t=>{if(l){n||a.classList.remove("smooth");var t=("touchmove"===t.type?t.touches[0]:t).clientX-a.offsetWidth-s.offsetLeft,e=a.offsetWidth/2,t=Math.min(Math.max(t,-e),i.offsetWidth-e);if(h=this.translateXToVal(t+e/2),n)return this.snapThumb(h);a.style.left=t+"px",this.highlightLabel(h)}};return window.addEventListener("touchstart",t,!0),window.addEventListener("touchend",o,!0),window.addEventListener("touchmove",r,!0),window.addEventListener("mousedown",t,!1),window.addEventListener("mouseup",o,!1),window.addEventListener("mousemove",r,!0),this}translateXToVal(t){var{ticks:e,track:s,range:{}}=this,t=Math.round(t/(s.offsetWidth/(e.length-1)));return this.ticks[t].value}snapThumb(t){var e=this["thumb"];Object.assign(e.style,{left:this.notchedTick(t).left-e.offsetWidth/2+"px",visibility:"visible"}),this.highlightLabel(t)}notchedTick(e){return this.ticks.filter(t=>t.value==e)[0]}highlightLabel(t){document.querySelector(".label.active")?.classList.remove("active"),this.notchedTick(t).label?.classList.add("active")}setValue(t){var{min:e,max:s}=this["range"];this.value=Math.min(Math.max(t,e),s),this.snapThumb(this.value)}}window.sliderBar=e||{},t.sliderBar=e,Object.defineProperty(t,"__esModule",{value:!0})});