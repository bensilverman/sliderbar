/** @license: MIT 
 Slider Bar Demo v1.0.0 | Copyright (c) 2022 | Ben Silverman | https://github.com/bensilverman/silderbar 
**/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).sliderbar={})}(this,function(t){"use strict";class e{constructor(t){this.ticks=[];var{range:t,domElements:{container:e,track:s,thumb:a},value:i,snap:n}=t;Object.assign(this,{container:e,track:s,thumb:a,range:t,value:i??t.min,snap:n??!0}),new Promise(t=>{this.createTicks().adjustContainer(),t(this)}).then(()=>{this.thumbEvents().snapThumb(this.value)})}createTicks(){const{ticks:n,track:r,range:{min:e,max:s,step:a}}=this;var i=r.offsetWidth/((s-e)/a);let l=0;for(let t=e;t<=s;t+=a)n.push({left:i*l,value:t}),l++;return n.forEach((e,t)=>{const s=document.createElement("div");s.classList.add("tick"),r.appendChild(s);var a=e.left-s.offsetWidth/2;s.style.marginLeft=a+"px",s.addEventListener("mousedown",()=>{this.setValue(e.value)});const i=document.createElement("div");i.classList.add("label"),i.setAttribute("tabIndex","2"),i.innerHTML=""+e.value,r.appendChild(i),i.style.marginLeft=a-i.offsetWidth/2+"px",["keypress","click"].forEach(t=>{i.addEventListener(t,()=>{this.setValue(e.value)})}),n[t].label=i}),this}adjustContainer(){const{container:t,track:e,thumb:s,snap:a}=this;var i=s.offsetWidth;t.style.width=e.offsetWidth+i+"px",e.style.marginLeft=i/2+"px",t.setAttribute("tabIndex","1"),a||s.classList.add("smooth")}thumbEvents(){const{container:s,track:a,thumb:i,snap:n}=this;let e=!1,r=(s.addEventListener("focus",()=>e=!0,!0),s.addEventListener("blur",()=>e=!1,!0),window.addEventListener("keydown",t=>{if(e)switch(t.keyCode){case 37:this.setValue(--this.value);break;case 39:this.setValue(this.value+=1)}}),!1),l=(a.addEventListener("mousedown",t=>{t.target==t.currentTarget&&(r=!0,this.setValue(this.translateXToVal(t.offsetX)))}),s.addEventListener("mousedown",t=>{t.target==t.currentTarget&&(r=!0,this.setValue(this.translateXToVal(t.offsetX-i.offsetWidth)))}),null);var t=t=>{r=[i,s,a].includes(t.target)||t.target.classList.contains("tick")};const o=t=>{r&&null!==l&&(this.setValue(l),l=null),n||i.classList.add("smooth"),r=!1};var h=t=>{if(r){n||i.classList.remove("smooth");var t=("touchmove"===t.type?t.touches[0]:t).clientX-i.offsetWidth-s.offsetLeft,e=i.offsetWidth/2,t=Math.min(Math.max(t,-e),a.offsetWidth-e);if(l=this.translateXToVal(t+e/2),n)return this.snapThumb(l);i.style.left=t+"px",this.highlightLabel(l)}};return s.addEventListener("touchstart",t,!0),s.addEventListener("touchend",o,!0),s.addEventListener("touchmove",h,!0),window.addEventListener("mousedown",t,!1),[window,s].forEach(t=>{addEventListener("mouseup",o,!1)}),window.addEventListener("mousemove",h,!0),this}translateXToVal(t){var{ticks:e,track:s,range:{}}=this,t=Math.round(t/(s.offsetWidth/(e.length-1)));return this.ticks[t].value}snapThumb(t){var e=this["thumb"];Object.assign(e.style,{left:this.notchedTick(t).left-e.offsetWidth/2+"px",visibility:"visible"}),this.highlightLabel(t)}notchedTick(e){return this.ticks.filter(t=>t.value==e)[0]}highlightLabel(t){document.querySelector(".label.active")?.classList.remove("active"),this.notchedTick(t).label?.classList.add("active")}setValue(t){var{min:e,max:s}=this["range"];this.value=Math.min(Math.max(t,e),s),this.snapThumb(this.value)}}window.sliderBar=e||{},t.sliderBar=e,Object.defineProperty(t,"__esModule",{value:!0})});