/** @license: MIT 
 Slider Bar Demo v1.0.0 | Copyright (c) 2022 | Ben Silverman | https://github.com/bensilverman/silderbar 
**/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).sliderbar={})}(this,function(t){"use strict";class e{constructor(t){this.ticks=[];var{range:t,domElements:{container:e,track:s,thumb:a},value:i,snap:n,onDrag:o,onUpdated:r}=this.validateDefaults(t);Object.assign(this,{container:e,track:s,thumb:a,range:t,value:i,snap:n,onDrag:o,onUpdated:r}),new Promise((t,e)=>{this.createTicks().adjustContainer(),t(this)}).then(()=>{this.thumbEvents().snapThumb(this.value)}).catch(t=>{throw new Error(t)})}validateDefaults(t){var{domElements:t,range:e,value:s,snap:a,onDrag:i,onUpdated:n}=t,t={container:t?.container??document.querySelector(".container"),track:t?.track??document.querySelector(".track"),thumb:t?.thumb??document.querySelector(".thumb")};return Object.entries(t).forEach(t=>{if(!t[1])throw new Error(`domElement for ${t[0]} not found`)}),{domElements:t,range:{min:e?.min??0,max:e?.max??10,step:(e?.step&&e?.step<e?.max-e?.min?e?.step:null)??1},value:(s>=e?.min?s:null)??e?.min??0,snap:a??!0,onDrag:i??function(){},onUpdated:n??function(){}}}createTicks(){const{ticks:n,track:o,range:{min:e,max:s,step:a}}=this;var i=o.offsetWidth/((s-e)/a);let r=0;for(let t=e;t<=s;t+=a)n.push({left:i*r,value:t}),r++;return n.forEach((e,t)=>{const s=document.createElement("div");s.classList.add("tick"),o.appendChild(s);var a=e.left-s.offsetWidth/2;s.style.marginLeft=a+"px";const i=document.createElement("div");i.classList.add("label"),i.setAttribute("tabIndex","2"),i.innerHTML=""+e.value,o.appendChild(i),i.style.marginLeft=a-i.offsetWidth/2+"px",["keypress","click"].forEach(t=>{i.addEventListener(t,()=>{this.setValue(e.value)})}),n[t].label=i}),this}adjustContainer(){const{container:t,track:e,thumb:s,snap:a}=this;var i=s.offsetWidth;t.style.width=e.offsetWidth+i+"px",e.style.marginLeft=i/2+"px",t.setAttribute("tabIndex","1"),a||s.classList.add("smooth")}thumbEvents(){const{container:s,track:a,thumb:i,snap:n,onDrag:o}=this;let e=!1,r=(s.addEventListener("focus",()=>e=!0,!0),s.addEventListener("blur",()=>e=!1,!0),window.addEventListener("keydown",t=>{if(e)switch(t.keyCode){case 37:this.setValue(--this.value);break;case 39:this.setValue(this.value+=1)}}),!1),l=null;var t=t=>{r=[i,s,a].includes(t.target)||t.target.classList.contains("tick"),t.target==s&&this.setValue(this.translateXToVal(t.offsetX-i.offsetWidth)),t.target==a&&this.setValue(this.translateXToVal(t.offsetX))},d=t=>{r&&null!==l&&(this.setValue(l),l=null),n||i.classList.add("smooth"),r=!1},h=t=>{if(r){n||i.classList.remove("smooth");var t=("touchmove"===t.type?t.touches[0]:t).clientX-i.offsetWidth-s.offsetLeft,e=i.offsetWidth/2,t=Math.min(Math.max(t,-e),a.offsetWidth-e);if(l=this.translateXToVal(t+e/2),o(l,this),n)return this.snapThumb(l);i.style.left=t+"px",this.highlightLabel(l)}};return window.addEventListener("touchstart",t,!0),window.addEventListener("touchend",d,!0),window.addEventListener("touchmove",h,!0),window.addEventListener("mousedown",t,!1),window.addEventListener("mouseup",d,!1),window.addEventListener("mousemove",h,!0),this}translateXToVal(t){var{ticks:e,track:s,range:{}}=this,t=Math.round(t/(s.offsetWidth/(e.length-1)));return this.ticks[t].value}snapThumb(t){var e=this["thumb"];Object.assign(e.style,{left:this.notchedTick(t).left-e.offsetWidth/2+"px",visibility:"visible"}),this.highlightLabel(t)}notchedTick(e){return this.ticks.filter(t=>t.value==e)[0]}highlightLabel(t){document.querySelector(".label.active")?.classList.remove("active"),this.notchedTick(t).label?.classList.add("active")}setValue(t){const{range:{min:e,max:s},onUpdated:a}=this;this.value=Math.min(Math.max(t,e),s),this.snapThumb(this.value),a(this.value,this)}}window.sliderBar=e||{},t.sliderBar=e,Object.defineProperty(t,"__esModule",{value:!0})});